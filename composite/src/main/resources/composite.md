## 1. 概述


## 2. 定义

组合模式(Composite Pattern)：  
组合多个对象形成树形结构以表示具有“整体—部分”关系的层次结构。  
组合模式对单个对象（即叶子对象）和组合对象（即容器对象）的使用具有一致性，  
组合模式又可以称为“整体—部分”(Part-Whole)模式。


## 3. 适用场景

处理树形结构，且父节点和子节点有共同的操作类型。


## 4. 设计要点

组合模式中包含3类角色

- 抽象构件(Component)  
  组合模式的核心，抽象父节点和子节点共有的操作。可以是抽象类或者接口。  
  通过抽象构件，客户端可以对树形结构中的父节点和子节点进行统一处理。
  
- 父构件(Composite)
  树形结构中的父节点。可以有多种类型。其子节点可以是父构件，也可以是子构件。
  
- 子构件(Leaf)
  树形结构中的子节点。可以有多种类型。
  
  
根据客户端使用树形结构中节点的方式，可以将组合模式分为2种

- 透明组合方式
  抽象构件中包含父节点和子节点中方法的并集。   
  客户端可以透明的使用抽象构件。  
  但是对于父节点和子节点方法的差集需要做特殊的异常处理。
  
- 安全组合方式
  抽象构件中包含父节点和子节点中方法的交集。
  客户端无法透明的使用抽象构件，调用父节点和子节点的差集方法时，需使用具体的类。         


## 5. 优点

- 新增新的节点类型时，无需修改已有代码。



## 6. 缺点

- 在组合模式中，父节点与子节点的类型需要额外判断。